<svg id="my-svg" width="100%" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" class="flowchart" style="max-width: 1205.84px; background-color: transparent;" viewBox="0 0 1205.84375 2733" role="graphics-document document" aria-roledescription="flowchart-v2"><style>#my-svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:14px;fill:#ccc;}@keyframes edge-animation-frame{from{stroke-dashoffset:0;}}@keyframes dash{to{stroke-dashoffset:0;}}#my-svg .edge-animation-slow{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 50s linear infinite;stroke-linecap:round;}#my-svg .edge-animation-fast{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 20s linear infinite;stroke-linecap:round;}#my-svg .error-icon{fill:#a44141;}#my-svg .error-text{fill:#ddd;stroke:#ddd;}#my-svg .edge-thickness-normal{stroke-width:1px;}#my-svg .edge-thickness-thick{stroke-width:3.5px;}#my-svg .edge-pattern-solid{stroke-dasharray:0;}#my-svg .edge-thickness-invisible{stroke-width:0;fill:none;}#my-svg .edge-pattern-dashed{stroke-dasharray:3;}#my-svg .edge-pattern-dotted{stroke-dasharray:2;}#my-svg .marker{fill:#d2691e;stroke:#d2691e;}#my-svg .marker.cross{stroke:#d2691e;}#my-svg svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:14px;}#my-svg p{margin:0;}#my-svg .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#ccc;}#my-svg .cluster-label text{fill:#F9FFFE;}#my-svg .cluster-label span{color:#F9FFFE;}#my-svg .cluster-label span p{background-color:transparent;}#my-svg .label text,#my-svg span{fill:#ccc;color:#ccc;}#my-svg .node rect,#my-svg .node circle,#my-svg .node ellipse,#my-svg .node polygon,#my-svg .node path{fill:#1f2020;stroke:#ccc;stroke-width:1px;}#my-svg .rough-node .label text,#my-svg .node .label text,#my-svg .image-shape .label,#my-svg .icon-shape .label{text-anchor:middle;}#my-svg .node .katex path{fill:#000;stroke:#000;stroke-width:1px;}#my-svg .rough-node .label,#my-svg .node .label,#my-svg .image-shape .label,#my-svg .icon-shape .label{text-align:center;}#my-svg .node.clickable{cursor:pointer;}#my-svg .root .anchor path{fill:#d2691e!important;stroke-width:0;stroke:#d2691e;}#my-svg .arrowheadPath{fill:lightgrey;}#my-svg .edgePath .path{stroke:#d2691e;stroke-width:2.0px;}#my-svg .flowchart-link{stroke:#d2691e;fill:none;}#my-svg .edgeLabel{background-color:hsl(0, 0%, 34.4117647059%);text-align:center;}#my-svg .edgeLabel p{background-color:hsl(0, 0%, 34.4117647059%);}#my-svg .edgeLabel rect{opacity:0.5;background-color:hsl(0, 0%, 34.4117647059%);fill:hsl(0, 0%, 34.4117647059%);}#my-svg .labelBkg{background-color:rgba(87.75, 87.75, 87.75, 0.5);}#my-svg .cluster rect{fill:hsl(180, 1.5873015873%, 28.3529411765%);stroke:rgba(255, 255, 255, 0.25);stroke-width:1px;}#my-svg .cluster text{fill:#F9FFFE;}#my-svg .cluster span{color:#F9FFFE;}#my-svg div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:hsl(20, 1.5873015873%, 12.3529411765%);border:1px solid rgba(255, 255, 255, 0.25);border-radius:2px;pointer-events:none;z-index:100;}#my-svg .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#ccc;}#my-svg rect.text{fill:none;stroke-width:0;}#my-svg .icon-shape,#my-svg .image-shape{background-color:hsl(0, 0%, 34.4117647059%);text-align:center;}#my-svg .icon-shape p,#my-svg .image-shape p{background-color:hsl(0, 0%, 34.4117647059%);padding:2px;}#my-svg .icon-shape rect,#my-svg .image-shape rect{opacity:0.5;background-color:hsl(0, 0%, 34.4117647059%);fill:hsl(0, 0%, 34.4117647059%);}#my-svg .label-icon{display:inline-block;height:1em;overflow:visible;vertical-align:-0.125em;}#my-svg .node .label-icon path{fill:currentColor;stroke:revert;stroke-width:revert;}#my-svg :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}#my-svg .userStyle&gt;*{fill:#2d5016!important;stroke:#4a8b2c!important;stroke-width:3px!important;color:#fff!important;}#my-svg .userStyle span{fill:#2d5016!important;stroke:#4a8b2c!important;stroke-width:3px!important;color:#fff!important;}#my-svg .userStyle tspan{fill:#fff!important;}#my-svg .artifactStyle&gt;*{fill:#1a3a52!important;stroke:#3a7ca5!important;stroke-width:2px!important;color:#fff!important;}#my-svg .artifactStyle span{fill:#1a3a52!important;stroke:#3a7ca5!important;stroke-width:2px!important;color:#fff!important;}#my-svg .artifactStyle tspan{fill:#fff!important;}#my-svg .llmStyle&gt;*{fill:#4a2c5e!important;stroke:#8b5a9e!important;stroke-width:3px!important;color:#fff!important;}#my-svg .llmStyle span{fill:#4a2c5e!important;stroke:#8b5a9e!important;stroke-width:3px!important;color:#fff!important;}#my-svg .llmStyle tspan{fill:#fff!important;}#my-svg .execStyle&gt;*{fill:#5e2c2c!important;stroke:#c55a5a!important;stroke-width:2px!important;color:#fff!important;}#my-svg .execStyle span{fill:#5e2c2c!important;stroke:#c55a5a!important;stroke-width:2px!important;color:#fff!important;}#my-svg .execStyle tspan{fill:#fff!important;}</style><g><marker id="my-svg_flowchart-v2-pointEnd" class="marker flowchart-v2" viewBox="0 0 10 10" refX="5" refY="5" markerUnits="userSpaceOnUse" markerWidth="8" markerHeight="8" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"/></marker><marker id="my-svg_flowchart-v2-pointStart" class="marker flowchart-v2" viewBox="0 0 10 10" refX="4.5" refY="5" markerUnits="userSpaceOnUse" markerWidth="8" markerHeight="8" orient="auto"><path d="M 0 5 L 10 10 L 10 0 z" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"/></marker><marker id="my-svg_flowchart-v2-circleEnd" class="marker flowchart-v2" viewBox="0 0 10 10" refX="11" refY="5" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><circle cx="5" cy="5" r="5" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"/></marker><marker id="my-svg_flowchart-v2-circleStart" class="marker flowchart-v2" viewBox="0 0 10 10" refX="-1" refY="5" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><circle cx="5" cy="5" r="5" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"/></marker><marker id="my-svg_flowchart-v2-crossEnd" class="marker cross flowchart-v2" viewBox="0 0 11 11" refX="12" refY="5.2" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><path d="M 1,1 l 9,9 M 10,1 l -9,9" class="arrowMarkerPath" style="stroke-width: 2; stroke-dasharray: 1, 0;"/></marker><marker id="my-svg_flowchart-v2-crossStart" class="marker cross flowchart-v2" viewBox="0 0 11 11" refX="-1" refY="5.2" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><path d="M 1,1 l 9,9 M 10,1 l -9,9" class="arrowMarkerPath" style="stroke-width: 2; stroke-dasharray: 1, 0;"/></marker><g class="root"><g class="clusters"><g class="cluster" id="Execution" data-look="classic"><rect style="" x="448.08984375" y="2044" width="295.21875" height="681"/><g class="cluster-label" transform="translate(533.50390625, 2044)"><foreignObject width="124.390625" height="21"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>âš¡ Query Execution</p></span></div></foreignObject></g></g><g class="cluster" id="LLMResponse" data-look="classic"><rect style="" x="430.69921875" y="1557" width="330" height="437"/><g class="cluster-label" transform="translate(512.89453125, 1557)"><foreignObject width="165.609375" height="21"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>ğŸ“¤ LLM Response (JSON)</p></span></div></foreignObject></g></g><g class="cluster" id="LLM" data-look="classic"><rect style="" x="451.34765625" y="1301" width="288.703125" height="206"/><g class="cluster-label" transform="translate(526.10546875, 1301)"><foreignObject width="139.1875" height="21"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>ğŸ¤– Azure OpenAI LLM</p></span></div></foreignObject></g></g><g class="cluster" id="LLMPrompt" data-look="classic"><rect style="" x="430.69921875" y="709" width="330" height="542"/><g class="cluster-label" transform="translate(502.77734375, 709)"><foreignObject width="185.84375" height="21"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>ğŸ’¬ LLM Prompt (Constructed)</p></span></div></foreignObject></g></g><g class="cluster" id="Mapper" data-look="classic"><rect style="" x="107.90625" y="432" width="956.83203125" height="227"/><g class="cluster-label" transform="translate(499.228515625, 432)"><foreignObject width="174.1875" height="21"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>ğŸ”§ Schema Mapper Service</p></span></div></foreignObject></g></g><g class="cluster" id="Artifacts" data-look="classic"><rect style="" x="310.421875" y="8" width="887.421875" height="332"/><g class="cluster-label" transform="translate(670.5390625, 8)"><foreignObject width="167.1875" height="21"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>ğŸ“¦ Pre-Generated Artifacts</p></span></div></foreignObject></g></g><g class="cluster" id="UserInput" data-look="classic"><rect style="" x="8" y="8" width="282.421875" height="332"/><g class="cluster-label" transform="translate(106.46875, 8)"><foreignObject width="85.484375" height="21"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>ğŸ“ User Input</p></span></div></foreignObject></g></g></g><g class="edgePaths"><path d="M149.211,220.5L149.211,240.417C149.211,260.333,149.211,300.167,149.211,327.75C149.211,355.333,149.211,370.667,149.211,386C149.211,401.333,149.211,416.667,204.754,438.453C260.298,460.239,371.384,488.478,426.928,502.597L482.471,516.717" id="L_QUERY_BUILD_PROMPT_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_QUERY_BUILD_PROMPT_0" data-points="W3sieCI6MTQ5LjIxMDkzNzUsInkiOjIyMC41fSx7IngiOjE0OS4yMTA5Mzc1LCJ5IjozNDB9LHsieCI6MTQ5LjIxMDkzNzUsInkiOjM4Nn0seyJ4IjoxNDkuMjEwOTM3NSwieSI6NDMyfSx7IngiOjQ4Ni4zNDc2NTYyNSwieSI6NTE3LjcwMjE3NjcwODg2NTJ9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M456.344,283.5L456.344,292.917C456.344,302.333,456.344,321.167,456.344,338.25C456.344,355.333,456.344,370.667,456.344,386C456.344,401.333,456.344,416.667,460.943,428.079C465.542,439.491,474.739,446.983,479.338,450.728L483.937,454.474" id="L_CANONICAL_BUILD_PROMPT_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_CANONICAL_BUILD_PROMPT_0" data-points="W3sieCI6NDU2LjM0Mzc1LCJ5IjoyODMuNX0seyJ4Ijo0NTYuMzQzNzUsInkiOjM0MH0seyJ4Ijo0NTYuMzQzNzUsInkiOjM4Nn0seyJ4Ijo0NTYuMzQzNzUsInkiOjQzMn0seyJ4Ijo0ODcuMDM4Nzg3MTY5NjAzNTUsInkiOjQ1N31d" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M735.055,283.5L735.055,292.917C735.055,302.333,735.055,321.167,735.055,338.25C735.055,355.333,735.055,370.667,735.055,386C735.055,401.333,735.055,416.667,730.456,428.079C725.857,439.491,716.659,446.983,712.06,450.728L707.461,454.474" id="L_CLIENT_SCHEMA_BUILD_PROMPT_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_CLIENT_SCHEMA_BUILD_PROMPT_0" data-points="W3sieCI6NzM1LjA1NDY4NzUsInkiOjI4My41fSx7IngiOjczNS4wNTQ2ODc1LCJ5IjozNDB9LHsieCI6NzM1LjA1NDY4NzUsInkiOjM4Nn0seyJ4Ijo3MzUuMDU0Njg3NSwieSI6NDMyfSx7IngiOjcwNC4zNTk2NTAzMzAzOTY0LCJ5Ijo0NTd9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M1032.844,315L1032.844,319.167C1032.844,323.333,1032.844,331.667,1032.844,343.5C1032.844,355.333,1032.844,370.667,1032.844,386C1032.844,401.333,1032.844,416.667,978.857,438.35C924.87,460.034,816.896,488.069,762.909,502.086L708.922,516.103" id="L_MAPPING_A_BUILD_PROMPT_0" class="edge-thickness-normal edge-pattern-dotted edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_MAPPING_A_BUILD_PROMPT_0" data-points="W3sieCI6MTAzMi44NDM3NSwieSI6MzE1fSx7IngiOjEwMzIuODQzNzUsInkiOjM0MH0seyJ4IjoxMDMyLjg0Mzc1LCJ5IjozODZ9LHsieCI6MTAzMi44NDM3NSwieSI6NDMyfSx7IngiOjcwNS4wNTA3ODEyNSwieSI6NTE3LjEwODAxMTg2Njc4NDZ9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M595.699,634L595.699,638.167C595.699,642.333,595.699,650.667,595.699,659C595.699,667.333,595.699,675.667,595.699,684C595.699,692.333,595.699,700.667,595.699,708.333C595.699,716,595.699,723,595.699,726.5L595.699,730" id="L_BUILD_PROMPT_PROMPT_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_BUILD_PROMPT_PROMPT_0" data-points="W3sieCI6NTk1LjY5OTIxODc1LCJ5Ijo2MzR9LHsieCI6NTk1LjY5OTIxODc1LCJ5Ijo2NTl9LHsieCI6NTk1LjY5OTIxODc1LCJ5Ijo2ODR9LHsieCI6NTk1LjY5OTIxODc1LCJ5Ijo3MDl9LHsieCI6NTk1LjY5OTIxODc1LCJ5Ijo3MzR9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M595.699,1226L595.699,1230.167C595.699,1234.333,595.699,1242.667,595.699,1251C595.699,1259.333,595.699,1267.667,595.699,1276C595.699,1284.333,595.699,1292.667,595.699,1300.333C595.699,1308,595.699,1315,595.699,1318.5L595.699,1322" id="L_PROMPT_PROCESSING_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_PROMPT_PROCESSING_0" data-points="W3sieCI6NTk1LjY5OTIxODc1LCJ5IjoxMjI2fSx7IngiOjU5NS42OTkyMTg3NSwieSI6MTI1MX0seyJ4Ijo1OTUuNjk5MjE4NzUsInkiOjEyNzZ9LHsieCI6NTk1LjY5OTIxODc1LCJ5IjoxMzAxfSx7IngiOjU5NS42OTkyMTg3NSwieSI6MTMyNn1d" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M595.699,1482L595.699,1486.167C595.699,1490.333,595.699,1498.667,595.699,1507C595.699,1515.333,595.699,1523.667,595.699,1532C595.699,1540.333,595.699,1548.667,595.699,1556.333C595.699,1564,595.699,1571,595.699,1574.5L595.699,1578" id="L_PROCESSING_RESPONSE_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_PROCESSING_RESPONSE_0" data-points="W3sieCI6NTk1LjY5OTIxODc1LCJ5IjoxNDgyfSx7IngiOjU5NS42OTkyMTg3NSwieSI6MTUwN30seyJ4Ijo1OTUuNjk5MjE4NzUsInkiOjE1MzJ9LHsieCI6NTk1LjY5OTIxODc1LCJ5IjoxNTU3fSx7IngiOjU5NS42OTkyMTg3NSwieSI6MTU4Mn1d" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M595.699,1969L595.699,1973.167C595.699,1977.333,595.699,1985.667,595.699,1994C595.699,2002.333,595.699,2010.667,595.699,2019C595.699,2027.333,595.699,2035.667,595.699,2043.333C595.699,2051,595.699,2058,595.699,2061.5L595.699,2065" id="L_RESPONSE_SQL_VALIDATOR_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_RESPONSE_SQL_VALIDATOR_0" data-points="W3sieCI6NTk1LjY5OTIxODc1LCJ5IjoxOTY5fSx7IngiOjU5NS42OTkyMTg3NSwieSI6MTk5NH0seyJ4Ijo1OTUuNjk5MjE4NzUsInkiOjIwMTl9LHsieCI6NTk1LjY5OTIxODc1LCJ5IjoyMDQ0fSx7IngiOjU5NS42OTkyMTg3NSwieSI6MjA2OX1d" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M595.699,2204L595.699,2209.917C595.699,2215.833,595.699,2227.667,595.699,2238.833C595.699,2250,595.699,2260.5,595.699,2265.75L595.699,2271" id="L_SQL_VALIDATOR_EXECUTOR_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_SQL_VALIDATOR_EXECUTOR_0" data-points="W3sieCI6NTk1LjY5OTIxODc1LCJ5IjoyMjA0fSx7IngiOjU5NS42OTkyMTg3NSwieSI6MjIzOS41fSx7IngiOjU5NS42OTkyMTg3NSwieSI6MjI3NX1d" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M595.699,2410L595.699,2414.167C595.699,2418.333,595.699,2426.667,595.699,2434.333C595.699,2442,595.699,2449,595.699,2452.5L595.699,2456" id="L_EXECUTOR_RESULTS_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_EXECUTOR_RESULTS_0" data-points="W3sieCI6NTk1LjY5OTIxODc1LCJ5IjoyNDEwfSx7IngiOjU5NS42OTkyMTg3NSwieSI6MjQzNX0seyJ4Ijo1OTUuNjk5MjE4NzUsInkiOjI0NjB9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/></g><g class="edgeLabels"><g class="edgeLabel"><g class="label" data-id="L_QUERY_BUILD_PROMPT_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_CANONICAL_BUILD_PROMPT_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_CLIENT_SCHEMA_BUILD_PROMPT_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(1032.84375, 386)"><g class="label" data-id="L_MAPPING_A_BUILD_PROMPT_0" transform="translate(-52.53125, -21)"><foreignObject width="105.0625" height="42"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>Referenced in<br />semantic context</p></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_BUILD_PROMPT_PROMPT_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_PROMPT_PROCESSING_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_PROCESSING_RESPONSE_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_RESPONSE_SQL_VALIDATOR_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(595.69921875, 2239.5)"><g class="label" data-id="L_SQL_VALIDATOR_EXECUTOR_0" transform="translate(-31, -10.5)"><foreignObject width="62" height="21"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>Valid SQL</p></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_EXECUTOR_RESULTS_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g class="node default userStyle" id="flowchart-QUERY-0" transform="translate(149.2109375, 174)"><rect class="basic label-container" style="fill:#2d5016 !important;stroke:#4a8b2c !important;stroke-width:3px !important" x="-106.2109375" y="-46.5" width="212.421875" height="93"/><g class="label" style="color:#fff !important" transform="translate(-76.2109375, -31.5)"><rect/><foreignObject width="152.421875" height="63"><div style="color: rgb(255, 255, 255) !important; display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#fff !important" class="nodeLabel"><p>User Query:<br />'What's the total contract<br />value by region?'</p></span></div></foreignObject></g></g><g class="node default artifactStyle" id="flowchart-CANONICAL-1" transform="translate(456.34375, 174)"><rect class="basic label-container" style="fill:#1a3a52 !important;stroke:#3a7ca5 !important;stroke-width:2px !important" x="-110.921875" y="-109.5" width="221.84375" height="219"/><g class="label" style="color:#fff !important" transform="translate(-80.921875, -94.5)"><rect/><foreignObject width="161.84375" height="189"><div style="color: rgb(255, 255, 255) !important; display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#fff !important" class="nodeLabel"><p>Canonical Schema<br />(FIBO-grounded)<br />â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€<br />contract:<br />  id: unique identifier<br />  customer: customer name<br />  total_value: lifetime value<br />  region: geographic region<br />  ontology: fibo:Contract</p></span></div></foreignObject></g></g><g class="node default artifactStyle" id="flowchart-MAPPING_A-2" transform="translate(1032.84375, 174)"><rect class="basic label-container" style="fill:#1a3a52 !important;stroke:#3a7ca5 !important;stroke-width:2px !important" x="-130" y="-141" width="260" height="282"/><g class="label" style="color:#fff !important" transform="translate(-100, -126)"><rect/><foreignObject width="200" height="252"><div style="color: rgb(255, 255, 255) !important; display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#fff !important" class="nodeLabel"><p>Client A Mapping<br />(data/mappings/client_a.yaml)<br />â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€<br />total_value:<br />  type: direct<br />  source: contracts.contract_value<br />  ontology: fibo:hasContractValue<br />region:<br />  type: direct<br />  source: contracts.region</p></span></div></foreignObject></g></g><g class="node default artifactStyle" id="flowchart-CLIENT_SCHEMA-3" transform="translate(735.0546875, 174)"><rect class="basic label-container" style="fill:#1a3a52 !important;stroke:#3a7ca5 !important;stroke-width:2px !important" x="-117.7890625" y="-109.5" width="235.578125" height="219"/><g class="label" style="color:#fff !important" transform="translate(-87.7890625, -94.5)"><rect/><foreignObject width="175.578125" height="189"><div style="color: rgb(255, 255, 255) !important; display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#fff !important" class="nodeLabel"><p>Client A Schema<br />(app/models/schemas.py)<br />â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€<br />Table: contracts<br />  contract_id: INTEGER<br />  customer_name: VARCHAR<br />  contract_value: DECIMAL<br />  region: VARCHAR<br />  status: VARCHAR</p></span></div></foreignObject></g></g><g class="node default llmStyle" id="flowchart-BUILD_PROMPT-4" transform="translate(595.69921875, 545.5)"><rect class="basic label-container" style="fill:#4a2c5e !important;stroke:#8b5a9e !important;stroke-width:3px !important" x="-109.3515625" y="-88.5" width="218.703125" height="177"/><g class="label" style="color:#fff !important" transform="translate(-79.3515625, -73.5)"><rect/><foreignObject width="158.703125" height="147"><div style="color: rgb(255, 255, 255) !important; display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#fff !important" class="nodeLabel"><p>Build LLM Prompt<br />â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€<br />Combines:<br />â€¢ User question<br />â€¢ Canonical schema<br />â€¢ Client schema<br />â€¢ Semantic context</p></span></div></foreignObject></g></g><g class="node default llmStyle" id="flowchart-PROMPT-5" transform="translate(595.69921875, 980)"><rect class="basic label-container" style="fill:#4a2c5e !important;stroke:#8b5a9e !important;stroke-width:3px !important" x="-130" y="-246" width="260" height="492"/><g class="label" style="color:#fff !important" transform="translate(-100, -231)"><rect/><foreignObject width="200" height="462"><div style="color: rgb(255, 255, 255) !important; display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#fff !important" class="nodeLabel"><p>System: You are a database schema expert<br />â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€<br />User Question: What's the total contract value by region?<br /><br />Canonical Schema:<br />  contract:<br />    total_value: full lifetime value<br />    region: geographic region<br /><br />Customer Schema (Client A):<br />  contracts:<br />    contract_value: DECIMAL<br />    region: VARCHAR<br /><br />Semantic Context: E-commerce company,<br />contract_value is lifetime value<br /><br />Task: Generate SQL query for customer's schema</p></span></div></foreignObject></g></g><g class="node default llmStyle" id="flowchart-PROCESSING-6" transform="translate(595.69921875, 1404)"><rect class="basic label-container" style="fill:#4a2c5e !important;stroke:#8b5a9e !important;stroke-width:3px !important" x="-109.3515625" y="-78" width="218.703125" height="156"/><g class="label" style="color:#fff !important" transform="translate(-79.3515625, -63)"><rect/><foreignObject width="158.703125" height="126"><div style="color: rgb(255, 255, 255) !important; display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#fff !important" class="nodeLabel"><p>GPT-4 Processing<br />â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€<br />â€¢ Analyze user intent<br />â€¢ Map canonical â†’ client<br />â€¢ Generate SQL syntax<br />â€¢ Add explanations</p></span></div></foreignObject></g></g><g class="node default llmStyle" id="flowchart-RESPONSE-7" transform="translate(595.69921875, 1775.5)"><rect class="basic label-container" style="fill:#4a2c5e !important;stroke:#8b5a9e !important;stroke-width:3px !important" x="-130" y="-193.5" width="260" height="387"/><g class="label" style="color:#fff !important" transform="translate(-100, -178.5)"><rect/><foreignObject width="200" height="357"><div style="color: rgb(255, 255, 255) !important; display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#fff !important" class="nodeLabel"><p>{<br />  'sql_query':<br />    'SELECT region,<br />     SUM(contract_value) as total_value<br />     FROM contracts<br />     GROUP BY region',<br />  'mappings': {<br />    'total_value': 'contract_value',<br />    'region': 'region'<br />  },<br />  'calculations': {},<br />  'explanation':<br />    'Aggregating contract values by region<br />     using direct field mappings'<br />}</p></span></div></foreignObject></g></g><g class="node default execStyle" id="flowchart-SQL_VALIDATOR-8" transform="translate(595.69921875, 2136.5)"><rect class="basic label-container" style="fill:#5e2c2c !important;stroke:#c55a5a !important;stroke-width:2px !important" x="-112.609375" y="-67.5" width="225.21875" height="135"/><g class="label" style="color:#fff !important" transform="translate(-82.609375, -52.5)"><rect/><foreignObject width="165.21875" height="105"><div style="color: rgb(255, 255, 255) !important; display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#fff !important" class="nodeLabel"><p>SQL Validator<br />â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€<br />â€¢ Check for dangerous ops<br />â€¢ Validate syntax<br />â€¢ Sanitize query</p></span></div></foreignObject></g></g><g class="node default execStyle" id="flowchart-EXECUTOR-9" transform="translate(595.69921875, 2342.5)"><rect class="basic label-container" style="fill:#5e2c2c !important;stroke:#c55a5a !important;stroke-width:2px !important" x="-109.3515625" y="-67.5" width="218.703125" height="135"/><g class="label" style="color:#fff !important" transform="translate(-79.3515625, -52.5)"><rect/><foreignObject width="158.703125" height="105"><div style="color: rgb(255, 255, 255) !important; display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#fff !important" class="nodeLabel"><p>Query Executor<br />â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€<br />â€¢ Connect to SQLite DB<br />â€¢ Execute SQL<br />â€¢ Return results</p></span></div></foreignObject></g></g><g class="node default execStyle" id="flowchart-RESULTS-10" transform="translate(595.69921875, 2580)"><rect class="basic label-container" style="fill:#5e2c2c !important;stroke:#c55a5a !important;stroke-width:2px !important" x="-109.3515625" y="-120" width="218.703125" height="240"/><g class="label" style="color:#fff !important" transform="translate(-79.3515625, -105)"><rect/><foreignObject width="158.703125" height="210"><div style="color: rgb(255, 255, 255) !important; display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#fff !important" class="nodeLabel"><p>Results:<br />â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€<br />[<br />  {region: 'North America',<br />   total_value: 4250000},<br />  {region: 'Europe',<br />   total_value: 3100000},<br />  {region: 'Asia Pacific',<br />   total_value: 2890000}<br />]</p></span></div></foreignObject></g></g></g></g></g></svg>